<!--
 @project:   ConcreteCMS Theme

 @copyright  (C) 2021 Portland Labs (https://www.portlandlabs.com)
 @author     Fabian Bitter (fabian@bitter.de)
-->

<div class="h-100 d-flex flex-column justify-content-center my-0 modal message-dialog" tabindex="-1" role="dialog" id="ccm-composer-message-<%=id%>">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    <%=i18n.dialogTitle%>
                </h5>

                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="alert"></button>
            </div>

            <div class="modal-body">
                <form method="post" action="#">
                    <input type="hidden" name="ccm_token" class="token"/>
                    <input type="hidden" name="msgID" class="message-id"/>

                    <div class="form-group row">
                        <label for="msgReceiver-<%=id%>" class="col-sm-4 col-form-label">
                            <%=i18n.receiverLabel%>
                        </label>

                        <div class="col-sm">
                            <% if (isReply) { %>
                            <input type="hidden" name="uID" class="user-id"/>
                            <input type="text" id="msgReceiver-<%=id%>" disabled="disabled"
                                   class="form-control user-name"/>
                            <% } else { %>
                            <select id="msgReceiver-<%=id%>" name="uID" class="form-control user-name"></select>
                            <% } %>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="msgSubject-<%=id%>" class="col-sm-4 col-form-label">
                            <%=i18n.subjectLabel%>
                        </label>

                        <div class="col-sm">
                            <input id="msgSubject-<%=id%>" name="msgSubject" type="text" class="form-control subject"/>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="msgBody-<%=id%>" class="col-sm-4 col-form-label">
                            <%=i18n.messageLabel%>
                        </label>

                        <div class="col-sm">
                            <textarea id="msgBody-<%=id%>" name="msgBody" rows="8" class="form-control body"></textarea>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="msgAttachments-<%=id%>" class="col-sm-4 col-form-label">
                            <%=i18n.attachmentsLabel%>
                        </label>

                        <div class="col-sm">

                            <div class="upload-item">
                                <div class="upload-btn-wrapper">
                                    <button class="btn btn-sm btn-secondary">
                                        <%=i18n.uploadFilesButton%>
                                    </button>

                                    <input id="msgAttachments-<%=id%>" name="msgAttachments[]" type="file"
                                           class="form-control attachments" multiple="multiple"/>
                                </div>

                                <div class="files-container"></div>

                                <div class="upload-notice">
                                    <%=i18n.uploadFilesNotice%>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">
                    <%=i18n.cancelButton%>
                </button>

                <button type="button" class="btn btn-primary">
                    <%=i18n.sendButton%>
                </button>
            </div>
        </div>
    </div>
</div>